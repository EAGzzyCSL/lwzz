<!DOCTYPE html>
<html lang="zh_CN">

<head>
    <title>A TOUCH OF ANDROID</title>
    <meta name="Author" content="LWZZ" />
    <meta charset="utf-8" />
    <link rel="stylesheet" type="text/css" href="../style/frame.css" />
    <link rel="stylesheet" type="text/css" href="../constyle/general.css" />
    <link rel="stylesheet" type="text/css" href="../constyle/left_nav.css" />
    <link rel="icon" href="../style/img/icon.ico" />
</head>

<body>
    <div id="frame_ouline">
        <div id="frame_header">
            <div id="frame_div_logo">
                <a href="../index.html">
                    <img src="../style/img/logo.png" id="frame_img_logo" />
                </a>
            </div>
            <div id="frame_div_quicknav">
                <a id="frame_quicknav_a" href="#">>></a>
            </div>
            <div id="frame_div_nav">
                <ul id="frame_mainnav">
                    <li class="frame_li_mainnav"><a href="android_overview.html" class="frame_mainnav_a">安卓概况</a>
                        <ul class="frame_subnav">
                            <li class="frame_li_subnav"><a href="../content/history.html" class="frame_subnav_a">安卓历史</a>
                            </li>
                            <li class="frame_li_subnav"><a href="../content/comparison.html" class="frame_subnav_a">优劣比较</a>
                            </li>
                            <li class="frame_li_subnav"><a href="../content/future.html" class="frame_subnav_a">发展前景</a>
                            </li>
                        </ul>
                    </li>
                    <li class="frame_li_mainnav"><a href="android_light.html" class="frame_mainnav_a">安卓浅谈</a>
                        <ul class="frame_subnav">
                            <li class="frame_li_subnav"><a href="../content/skills.html" class="frame_subnav_a">使用技巧</a>
                            </li>
                            <li class="frame_li_subnav"><a href="../content/notes.html" class="frame_subnav_a">注意事项</a>
                            </li>
                            <li class="frame_li_subnav"><a href="../content/beautify.html" class="frame_subnav_a">界面美化</a>
                            </li>
                        </ul>
                    </li>
                    <li class="frame_li_mainnav"><a href="android_deep.html" class="frame_mainnav_a">安卓深入</a>
                        <ul class="frame_subnav">
                            <li class="frame_li_subnav"><a href="../content/apk.html" class="frame_subnav_a">关于APK</a>
                            </li>
                            <li class="frame_li_subnav"><a href="../content/system.html" class="frame_subnav_a">操作系统</a>
                            </li>
                            <li class="frame_li_subnav"><a href="../content/root.html" class="frame_subnav_a">ROOT与权限</a>
                            </li>
                            <li class="frame_li_subnav"><a href="../content/development.html" class="frame_subnav_a">APP的开发</a>
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>
            <hr id="frame_header_hr">
        </div>
        <div id="frmae_container">
            <div id="div_left_nav">
                <ul id="left_ul_main">
                    <li class="left_main_li">
                        <div class="left_main_li_div">
                            <a href="../content/apk.html" class="left_main_a">关于APK</a> 
                            <img src="../constyle/design/left_nav_arrow.png" class="left_nav_arrow"></img>
                        </div>
                        <ul class="left_ul_sub">
                            <li class="left_sub_li">
                                <a href="../content/apk.html#apk_anchor1" class="left_sub_a">
                                    <label class="label_sub_nav">简介</label>
                                </a>
                            </li>
                            <li class="left_sub_li">
                                <a href="../content/apk.html#apk_anchor2" class="left_sub_a">
                                    <label class="label_sub_nav">结构</label>
                                </a>
                            </li>

                        </ul>
                    </li>

                    <li class="left_main_li">
                        <div class="left_main_li_div">
                            <a href="../content/system.html" class="left_main_a">操作系统</a> 
                            <img src="../constyle/design/left_nav_arrow.png" class="left_nav_arrow"></img>
                        </div>
                        <ul class="left_ul_sub">
                            <li class="left_sub_li">
                                <a href="../content/system.html#system_anchor1" class="left_sub_a">
                                    <label class="label_sub_nav">系统设计</label>
                                </a>
                            </li>
                            <li class="left_sub_li">
                                <a href="../content/system.html#system_anchor2" class="left_sub_a">
                                    <label class="label_sub_nav">系统架构</label>
                                </a>
                            </li>

                        </ul>
                    </li>

                    <li class="left_main_li">
                        <div class="left_main_li_div">
                            <a href="../content/root.html" class="left_main_a">ROOT与权限</a> 
                            <img src="../constyle/design/left_nav_arrow.png" class="left_nav_arrow"></img>
                        </div>
                        <ul class="left_ul_sub">
                            <li class="left_sub_li">
                                <a href="../content/root.html#root_anchor1" class="left_sub_a">
                                    <label class="label_sub_nav">简介</label>
                                </a>
                            </li>
                            <li class="left_sub_li">
                                <a href="../content/root.html#root_anchor2" class="left_sub_a">
                                    <label class="label_sub_nav">方法</label>
                                </a>
                            </li>
                            <li class="left_sub_li">
                                <a href="../content/root.html#root_anchor3" class="left_sub_a">
                                    <label class="label_sub_nav">注意</label>
                                </a>
                            </li>
                            <li class="left_sub_li">
                                <a href="../content/root.html#root_anchor4" class="left_sub_a">
                                    <label class="label_sub_nav">好处</label>
                                </a>
                            </li>
                            <li class="left_sub_li">
                                <a href="../content/root.html#root_anchor5" class="left_sub_a">
                                    <label class="label_sub_nav">风险</label>
                                </a>
                            </li>
                        </ul>
                    </li>
                    <li class="left_main_li">
                        <div class="left_main_li_div">
                            <a href="../content/development.html" class="left_main_a">APP的开发</a>
                            <img src="../constyle/design/left_nav_arrow.png" class="left_nav_arrow"></img>
                        </div>
                        <ul class="left_ul_sub">
                            <li class="left_sub_li">
                                <a href="../content/development.html#development_anchor1" class="left_sub_a">
                                    <label class="label_sub_nav">综述</label>
                                </a>
                            </li>
                            <li class="left_sub_li">
                                <a href="../content/development.html#development_anchor2" class="left_sub_a">
                                    <label class="label_sub_nav">AIDE</label>
                                </a>
                            </li>

                        </ul>
                    </li>

                </ul>
            </div>

            <div id="father_container">
                <h4 class="head_title">
					<a id="system_anchor1">系统设计——Linux核心</a>
				</h4>
                <div class="sub_container">

                    <div class="content_right">

                        <p>
                            Android操作系统的核心属于Linux核心的一个分支，具有典型的Linux调度和功能，除此之外，Google为了能让Linux在移动设备上良好的运行，对其进行了修改和扩充。Android去除了Linux中的本地X Window System，也不支持标准的GNU库，这使得Linux平台上的应用程序移植到Android平台上变得困难。2008年，Patrick Brady于Google I/O演讲“Anatomy &amp; Physiology of an Android”，并提出的Android HAL架构图。HAL以*.so档的形式存在，可以把Android framework与Linux kernel隔开，这种中介层的方式使得Android能在移动设备上获得更高的运行效率。这种独特的系统结构被Linux内核开发者Greg Kroah-Hartman和其他核心维护者称赞。
                    </div>
                    <div class="img_div_right">
                        <img src="../constyle/system/hal.png" class="img_right" />
                    </div>
                </div>
                <div class="sub_container">
                    <div class="content_up">
                        <p>
                            Google还在Android的核心中加入了自己开发制作的一个名为“wakelocks”的移动设备电源管理功能，该功能用于管理移动设备的电池性能，但是该功能并没有被加入到Linux核心的主线开放和维护中，因为Linux核心维护者认为Google没有向他们展示这个功能的意图和代码。
                        </p>
                        <p>
                            2010年2月3日，由于Google在Android核心开发方面和Linux社区方面开发的不同步，Linux内核开发者Greg Kroah-Hartman将Android的驱动程序从Linux内核“状态树”（“staging tree”）上除去。2010年4月，Google宣布将派遣2名开发人员加入Linux核心社区，以便重返Linux核心。2010年9月，Linux核心开发者Rafael J. Wysocki添加了一个修复程序，使得Android的“wakelocks”可以轻松地与主线Linux核心合并。2011年，Linus Torvalds说：“Android的核心和Linux的核心将最终回归到一起，但可能不会是4-5年。”在Linux 3.3中大部分代码的集成完成。
                        </p>
                    </div>
                </div>
                <h4 class="head_title">
					<a id="system_anchor2">系统架构——硬件抽像层（HAL）</a>
				</h4>
                <div class="sub_container">
                    <div class="content_up">

                        <p>Android的硬件抽像层是能以封闭源码形式提供硬件驱动模块。HAL的目的是为了把Android framework与Linux kernel隔开，让Android不至过度依赖Linux kernel，以达成“内核独立”（kernel independent）的概念，也让Android framework的开发能在不考量驱动程序实作的前提下进行发展。
                        </p>
                        <p>HAL stub是一种代理人的概念，stub是以*.so档的形式存在。Stub向HAL“提供”操作函数，并由Android runtime向HAL取得stub的操作，再回调这些操作函数。HAL里包含了许多的stub（代理人）。Runtime只要说明“类型”，即module ID，就可以取得操作函数。
                        </p>
                    </div>
                </div>
            </div>


        </div>
        <div id="frame_footer">
            <div id="frame_about">
                <a href="../content/feedback.html" class="frame_about_a">用户反馈</a>  <a href="../content/developers.html" class="frame_about_a">关于我们</a>
                <div id="frame_share">
                    <a class="a_socialshare" href="#" title="Blog">
                        <img class="img_socialshare" src="../style/img/socialshare/blog.png" />
                    </a>
                    <a class="a_socialshare" href="http://www.douban.com/share/service" title="豆瓣">
                        <img class="img_socialshare" src="../style/img/socialshare/douban.png" />
                    </a>
                    <a class="a_socialshare" href="http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey" title="QQ空间">
                        <img class="img_socialshare" src="../style/img/socialshare/qzone.png" />
                    </a>
                    <a class="a_socialshare" href="#" title="人人网">
                        <img class="img_socialshare" src="../style/img/socialshare/renren.png" />
                    </a>
                    <a class="a_socialshare" href="http://service.weibo.com/share/share.php" title="新浪微博">
                        <img class="img_socialshare" src="../style/img/socialshare/sinamicroblog.png" />
                    </a>
                    <a class="a_socialshare" href="" title="Twitter">
                        <img class="img_socialshare" src="../style/img/socialshare/twitter.png" />
                    </a>
                    <a class="a_socialshare" href="#" title="微信">
                        <img class="img_socialshare" src="../style/img/socialshare/wechat.png" />
                    </a>
                </div>
            </div>
            <hr id="frame_footer_hr" />
            <div id="frame_copyright">
                <p id="frame_copyright_p">copyright&copy;LWZZ</p>
            </div>
        </div>
    </div>
    <div id="div_topback">
        <img id="img_topback" src="../style/img/topback.png" />
    </div>

    <script type="text/javascript" src="../control/frame.js" charset="utf-8"></script>
</body>

</html>